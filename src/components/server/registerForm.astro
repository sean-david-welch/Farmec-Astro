---
import styles from '../../styles/Blogs.module.css'
import utils from '../../styles/Utils.module.css'

const handleSubmit = async (event: SubmitEvent) => {
  event.preventDefault();

  const form = event.target as HTMLFormElement;
  const formData = new FormData(form);
  const data = Object.fromEntries(formData.entries());


  try {
    const response = await fetch('/api/register', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });

    const result = await response.json();
    console.log(result);
  } catch (error) {
    console.error('Error submitting form:', error);
  }
}

---


<dialog class={utils.dialog}>
    <form class={utils.form} method="post">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />
      
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required />
      
        <label for="role">Role:</label>
        <select id="role" name="role" required>
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
      
        <button type="submit">Register</button>
    </form>
</dialog>